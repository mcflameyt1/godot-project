ACTOR Raptor : Weapon
{
   Inventory.PickupSound "misc/w_pkup"
   Inventory.PickupMessage "You got the Raptor Handgun!"
   Weapon.AmmoType1 "Clip"
   Weapon.AmmoGive 12
   Weapon.AmmoUse1 2
   Weapon.KickBack 350
   Decal "BulletChip"
   States
   {
   Spawn:
      RPTP A -1
      Loop
   Ready:
      RPTN A 1 A_WeaponReady
      Loop
   Deselect:
      RPTN A 1 A_Lower
      Loop
   Select:
      RPTN A 1 A_Raise
      Loop
  Fire:
    TNT1 A 0 A_PlaySound("weapons/raptor")
    TNT1 A 0 A_GunFlash
    RPTN B 1 Bright A_FireBullets(2, 3, 2, 8, "RaptorPuff", 1)
    RPTN CD 1
    RPTN A 2
    TNT1 A 0 A_PlaySound("weapons/raptor")
    TNT1 A 0 A_GunFlash
    RPTN B 1 Bright A_FireBullets(2, 3, 2, 8, "RaptorPuff", 1)
    RPTN CD 1
    RPTN A 12
    RPTN A 1 A_ReFire
    Goto Ready 
   AltFire:
    RPTM ABC 2
    TNT1 A 0 A_CustomPunch(0, 0, 0, "RaptorMPuffDummy",85)
    RPTM D 1 A_CustomPunch(20, 0, 0, "RaptorMPuff",85)
    RPTM EFGH 1
    TNT1 A 13
    TNT1 A 1 A_ReFire
    Goto Ready 
   Flash:
    TNT1 A 2 Bright A_Light1
    Goto LightDone
   }
}

ACTOR RaptorPuff
{ 
    Mass 5
    Scale 0.50
    Radius 3
    Height 3
    +NOBLOCKMAP
    +NOGRAVITY
    -PUFFONACTORS
    Renderstyle TRANSLUCENT
    Alpha 0.8
    States
    {
    Spawn:
      RPPF AABCDE 1 BRIGHT
    Stop
    }
}

ACTOR RaptorMPuff
{
  +NOBLOCKMAP
  +NOGRAVITY
  +NOEXTREMEDEATH
  -PUFFONACTORS
  RenderStyle Translucent
  Alpha 0.5
  SeeSound "weapons/raptormhit"
  AttackSound "weapons/raptordeflect"
  ActiveSound "weapons/raptormelee"
  States
  {
  Spawn:
    RMPF AB 2
    RMPF C 1
    Stop
  }
} 
 
ACTOR RaptorMPuffDummy
{
  +NOBLOCKMAP
  +NOGRAVITY
  +NOEXTREMEDEATH
  +PUFFONACTORS
  SeeSound "weapons/raptormhit"
  States
  {
  Spawn:
    TNT1 A 1
    Stop
  }
}

